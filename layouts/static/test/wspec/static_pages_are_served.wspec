scenario __FILE__ do
  because("The root website URL is correctly served") {
    i_reach Waw.config.web_base
    i_see "Hello !"
  }
  because("Static files (css, js, images, ...) are correctly served") {
    i_reach Waw.config.web_base + 'css/style.css'
    i_reach Waw.config.web_base + 'js/+(project.lowname).js'
  }
  because(".wawaccess files are correctly written") {
    i_dont_reach Waw.config.web_base + '.wawaccess'
    i_dont_reach Waw.config.web_base + 'pages/.wawaccess'
    i_dont_reach Waw.config.web_base + 'templates/.wawaccess'
    i_dont_reach Waw.config.web_base + 'templates/layout.wtpl'
  }
  because("the default wlang context is correct") {
    i_reach Waw.config.web_base
    i_see_tag "link",   {:rel => "stylesheet"}
    i_see_tag "script", {:type => "text/javascript"}
    # waw is currently buggy here
    # i_see_tag "link",   {:rel => "stylesheet", :type => "text/css", :href => "^.*\.css$"}
    # i_see_tag "script", {:type => "text/javascript", :src => "^.*\.js$"}
  }
end